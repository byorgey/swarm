name: Test harvest command
description: |
  Test the difference between the grab and harvest commands,
  and test that grab doesn't drain water.
  https://github.com/swarm-game/swarm/issues/490
win: |
  try {
    turn east; move;
    t1 <- ishere "tree";
    move;
    t2 <- ishere "tree";
    create "boat"; install self "boat";
    turn right; move; grab;
    t3 <- ishere "water";
    return (t1 && not t2 && t3)
  } { return false }
solution: |
  move; harvest; move; grab
robots:
  - name: base
    loc: [0,0]
    dir: [1,0]
    devices:
      - treads
      - harvester
      - grabber
world:
  default: [blank, none]
  palette:
    '.': [grass, null]
    'T': [stone, tree]
    '┌': [stone, upper left corner]
    '┐': [stone, upper right corner]
    '└': [stone, lower left corner]
    '┘': [stone, lower right corner]
    '─': [stone, horizontal wall]
    '│': [stone, vertical wall]
    '~': [stone, water]
  upperleft: [-1, 1]
  map: |
    ┌───┐
    │.TT│
    │~~~│
    └───┘
