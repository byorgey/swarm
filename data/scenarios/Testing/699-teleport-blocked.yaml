name: Teleport to blocked
description: |
  Teleporting self or another robot to blocked location results in destruction of that robot.
  https://github.com/swarm-game/swarm/issues/475
creative: true
objectives:
  - condition: |
      try {
        try {
          robotNamed "one"
        } {
          robotNamed "two"
        };
        return false;
      } {
        return true; // both robots must be destroyed
      }
solution: |
  o <- robotNamed "one"; reprogram o {t <- robotNamed "two"; teleport t (3,0); teleport self (3,0)}
robots:
  - name: base
    dir: [0,0]
  - name: one
    dir: [1,0]
  - name: two
    dir: [-1,0]
world:
  default: [blank]
  palette:
    '@': [stone, boulder]
    'B': [grass, null, base]
    '1': [grass, null, one]
    '2': [grass, null, two]
    '┌': [stone, upper left corner]
    '┐': [stone, upper right corner]
    '└': [stone, lower left corner]
    '┘': [stone, lower right corner]
    '─': [stone, horizontal wall]
    '│': [stone, vertical wall]
    'λ': [grass, lambda]
  upperleft: [-1, 1]
  map: |
    ┌────┐
    │B12@│
    └────┘
