name: Place
description: |
  Learn how to interact with the world by grabbing entities and placing them.
#
# Placing the tree is motivated by speeding up tree collection as their growth
# is really slow. It can be cheesed by speeding up the game, but there is no need
# to tell the players. :)
#
entities:
  - name: Goal
    display:
      attr: device
      char: 'X'
    description:
    - Previously you learned how to plunder a plentiful forest for wood.
      Now you will learn how to plant trees to obtain as much wood as you need.
    - There is a fast-growing tree (called "spruce") ahead of you and a new
      one will grow there once you grab it.
    - You can plant a tree seed by 'place "spruce"; grab' - that way you can
      immediately place the next seed.
    - You can speed this up by placing the tree in all available cells.
      That way you can have eight times as many trees growing at once.
    - Your goal is to collect 6 trees.
    - |
      TIP: You can get a sneak peak at a feature we will explain later and type
      'def t = move; place "spruce"; grab; end' after which you only need to type 't'
      instead of retyping the whole command or searching in your command history.
  # faster tree (the normal one grows 500-600 ticks)
  - name: spruce
    display:
      attr: plant
      char: 'T'
    description:
    - |
      A tall, living entity made of a tough cellular material called "wood".
      They regrow after being harvested and are an important raw ingredient used
      in making many different devices.
    - |
      This one seems to grow a little faster.
    properties: [portable, growable]
    growth: [100, 120]
win: |
  try {
    t <- as base {count "spruce"};
    return (t >= 6);
  } { return false }
solution: |
  def t = move; place "spruce"; grab; end;
  def g = grab; move end;
  move;
  move; grab; t; t; t; t; t;
  wait 256;
  turn back; g; g; g; g; g; g;
robots:
  - name: base
    loc: [0,0]
    dir: [1,0]
    devices:
      - treads
      - grabber
      - logger
      - compass
      - dictionary
    inventory:
      - [1, Goal]
      - [0, spruce]
world:
  default: [blank, none]
  palette:
    '.': [grass, null]
    'T': [grass, spruce]
    '┌': [stone, upper left corner]
    '┐': [stone, upper right corner]
    '└': [stone, lower left corner]
    '┘': [stone, lower right corner]
    '─': [stone, horizontal wall]
    '│': [stone, vertical wall]
  upperleft: [-1, 1]
  map: |
    ┌────────┐
    │..T.....│
    └────────┘
